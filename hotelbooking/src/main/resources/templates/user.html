<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
<title>User</title>
</head>
<link th:replace="fragments/parts.html :: bootstrap_css">
<link rel="stylesheet" type="text/css" href="/css/style.css">
<body onload="navbarActivate('nav_user_panel')">
	<div th:replace="fragments/parts.html :: navbar"></div>
	<br>
	<h1>Welcome</h1>
	<p>
		[[${user.firstName}]] [[${user.lastName}]]<br>[[${user.email}]]
	</p>


	<div th:if="${param.success}">
		<div th:if="${success_msg}" class="alert alert-info"
			th:utext="${success_msg}">Success</div>
	</div>
	<div th:if="${param.error}">
		<div th:unless="${error_msg}" class="alert alert-danger">Error</div>
		<div th:if="${error_msg}" class="alert alert-danger"
			th:utext="${error_msg}">Error</div>
	</div>

	<table class="table table-striped table-hover ">

		<tr>
			<form th:action="@{/user/updateName}" method=post th:object="${user}">
			<td>
				<div class="form-floating mb-3">
					<input class="form-control" id="lastName" th:field="*{lastName}"
						type="text" placeholder="lastName" required /> <label
						for="lastName">Last Name</label>
				</div>
			</td>
			<td>
				<div class="form-floating mb-3">
					<input class="form-control" id="firstName" th:field="*{firstName}"
						type="text" placeholder="firstName" required /> <label
						for="firstName">First Name</label>
				</div>
			</td>
			<td>
				<button type="submit" class="btn btn-primary">Update Name</button>
			</td>

			<td><input class="form-control" id="email" th:field="*{email}"
				type="text" hidden /></td>

			</form>
		</tr>



		<tr>
			<form th:action="@{/user/updatePassword}" method=post>
			<td>
				<div class="form-floating mb-3">
					<input class="form-control" id="password" name="password"
						type="password" placeholder="password" required /> <label
						for="password">New Password</label>
				</div>
			</td>
			<td>
				<div class="form-floating mb-3">
					<input class="form-control" id="confirmPassword"
						name="confirmPassword" type="password"
						placeholder="confirmPassword" required /> <label for="password">Confirm
						Password</label>
				</div>
			</td>
			<td>
				<button type="submit" class="btn btn-primary">Change
					Password</button>
			</td>
			<td><input class="form-control" id="email" th:field="${user.email}"
				type="text" hidden /></td>

			</form>
		</tr>

	</table>



	<script th:replace="fragments/parts.html :: bootstrap_script"></script>
	<script src="js/script.js" defer></script>

</body>
</html>